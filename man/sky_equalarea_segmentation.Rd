% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sky_equalarea_segmentation.R
\name{sky_equalarea_segmentation}
\alias{sky_equalarea_segmentation}
\title{Segment a hemisphere into quasi-equal-area cells}
\usage{
sky_equalarea_segmentation(z, a, n_cells, ring_mode = "equal_angle_rings")
}
\arguments{
\item{z}{\link[terra:SpatRaster-class]{terra::SpatRaster} generated with \code{\link[=zenith_image]{zenith_image()}}.}

\item{a}{\link[terra:SpatRaster-class]{terra::SpatRaster} generated with \code{\link[=azimuth_image]{azimuth_image()}}.}

\item{n_cells}{numeric vector of length one. Target number of cells for the
segmentation. The final number of generated cells may differ slightly,
since equal-area constraints take precedence over an exact count.}

\item{ring_mode}{character vector of length one. Ring construction method:
\code{"equal_area_rings"} or \code{"equal_angle_rings"}. See \emph{Details}.}
}
\value{
Numeric \link[terra:SpatRaster-class]{terra::SpatRaster} with one layer containing integer
cell identifiers. The object carries attribute \code{ring_mode}.
}
\description{
Segment a hemispherical view into quasi-equal-area cells by assigning each
pixel a grid-cell identifier.
}
\details{
Quasi-equal-area partitions can be constructed in two ways:
\describe{
\item{Equal angle rings}{The zenith width (deg) of the rings is constant.
Equal-area behavior is achieved by varying the number of azimuthal sectors
per ring.}
\item{Equal area rings}{Ring boundaries are computed in \code{cos(z)},
producing rings of similar projected area, later subdivided into a constant
number of azimuthal sectors.}
}
}
\examples{
\dontrun{
z <- zenith_image(500, lens())
a <- azimuth_image(500, lens())
seg <- sky_equalarea_segmentation(z, a, n_cells = 512)
plot(seg)
}
}
